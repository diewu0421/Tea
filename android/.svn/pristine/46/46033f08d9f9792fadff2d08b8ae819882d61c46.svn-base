package com.gshl.tea;

import android.app.Application;
import android.graphics.Typeface;
import android.widget.TextView;

import com.se7en.utils.DeviceUtils;
import com.se7en.utils.SystemUtil;

import java.lang.reflect.Field;

/**
 * Created by ZengLingWen on 2017/2/23.
 */

public class MyApp extends Application {
    private static MyApp appContext;

    public static MyApp getInstance() {
        return appContext;
    }

    @Override
    public void onCreate() {
        super.onCreate();
        //初始化工具类
//        initializeUtil();
        //初始化initDeviceTools.jar
        initLibs();
        //设置app全局字体
        setTypeface();
    }

    private void initLibs() {
        DeviceUtils.setContext(this);
        SystemUtil.setContext(this);
    }

//    private void initializeUtil() {
//        appContext = this;
//        Utils.init(appContext);
//    }

    public void setTypeface() {
        //加载assets中的字体文件
        Typeface typeface = Typeface.createFromAsset(getAssets(), "fonts/Hiragino Sans GB W3.otf");
        try {
            Field field_3 = Typeface.class.getDeclaredField("SANS_SERIF");
            field_3.setAccessible(true);
            field_3.set(null, typeface);
        } catch (NoSuchFieldException e) {
            e.printStackTrace();
        } catch (IllegalAccessException e) {
            e.printStackTrace();
        }
    }
}
